<section id="reports">

	<div class="row">
		<div class="col-md-12">
			<h1 class="page-header">{{serviceName}}</h1>
		</div>
	</div> <!-- /row -->

	<div class="row">

		<div class="col-md-8 col-md-push-4">
			{{render "chart" controller hideLabels=false}}
		</div>

		<div class="col-md-4 col-md-pull-8">

			<div class="panel panel-default">

				<div class="panel-heading">
					<h2>Monitor Status</h2>
				</div>

				<div class="panel-body">

					{{#if isError}}
						<div class="alert alert-danger">
							<p class="text-center">Monitor has paused polling due to errors.<br><button {{action "reset" id}} class="btn btn-default btn-sm">reset</button></p>
						</div>
					{{/if}}

					{{#if hasActiveAlerts}}
						{{#each alerts}}
							{{#if active}}
								{{partial "alertShort"}}
							{{/if}}
						{{/each}}
					{{/if}}

					<dl class="dl-horizontal">
						<dt>Current Status</dt>
						<dd>{{status}}</dd>
						<dt>Last Logged</dt>
						<dd>{{lastLoggedTime}}</dd>
						<dt>Latest Duration</dt>
						<dd>{{lastLoggedDuration}}</dd>
						<dt>Response Type</dt>
						<dd>{{lastResponseType}}</dd>
						<dt>Records Stored</dt>
						<dd>{{records.length}}</dd>
						<dt>Average Duration</dt>
						<dd>{{average}}</dd>
						<dt>Max Duration</dt>
						<dd>{{maxDuration}}</dd>
						<dt>Min Duration</dt>
						<dd>{{minDuration}}</dd>
					</dl>

				</div>
			</div>
		</div>

	</div> <!-- /row -->

	<div class="row">
		<div class="col-md-12">
			<div class="table-responsive">
				<h2>Records</h2>
			  <table class="table table-condensed table-striped table-hover">
					<tbody>
					<tr>
						<th>Timestamp</th>
						<th>Request</th>
						<th>Response</th>
						<th>Duration (ms)</th>
						<th>Response Type</th>
					</tr>
					{{#each records}}
						<tr>
							<td>{{loggedTime}}</td>
							<td>{{start}}</td>
							<td>{{end}}</td>
							<td>{{duration}}</td>
							<td>{{responseType}}</td>
						</tr>
					{{/each}}
					</tbody>
			  </table>
			</div>
		</div>
	</div> <!-- /row -->

</section>